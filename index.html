<!DOCTYPE html>
<html>

<head>
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ”¥</text></svg>">
    <title>Apprentice Assignment</title>
    <style>
        body {
            background-color: lightblue;
        }

        .box {
            position: absolute;
            left: 50%;
            top: 30%;
            transform: translate(-50%, -50%);
            border: 5px solid #FFFF00;
            padding: 10px;
        }

        #log {
            position: fixed;
            border: 5px solid red;
            top: 60%;
            height: 50%;
            width: 50%;
            white-space: pre;
        }

        #main {}
    </style>
</head>

<body>
    <div class="box" id="main">
        <div id="message">
            <input id="message-input" value="Hello!">
            <button onclick="send()">Send</button>
        </div>
    </div>
    <div class="box" id="log">Chat box: <br></div>
    <script type="text/javascript">
        var elem = document.getElementById("message-input"); // Checks for enter press
        elem.onkeyup = function (e) {
            if (e.keyCode == 13) {
                send();
            }
        }

        function send() {
            const message = {
                text: document.getElementById("message-input").value // Gets value of input
            }
            const newChildToAdd = document.createTextNode("You: " + message.text + "\n");
            message.text = message.text.toLowerCase();
            console.log(message.text); // Logs the message.
            const reply = {
                text: 'No Answer' // If the bot does not have an instructions to answer, it will answer "No Answar"
            };


            const greeting = message.text.includes("hello") || message.text.includes("hi") || message.text.includes(
                'howdy'); // Checks for greetings, pretty cumbersome, maybe there is an easier solution?
            console.log("Greeting = " + greeting) // Logs if there is a greeting or not.

            const farewell = message.text.includes("hade") || message.text.includes("goodbye") || message.text.includes(
                'bye'); // Checks for farewells, pretty cumbersome, maybe there is an easier solution?
            console.log("Greeting = " + greeting) // Logs if there is a farewells or not.


            if (greeting) {
                reply.text = 'Hello!'; // Replies "Hello!" if an greeting is found.
            }

            if (farewell) {
                reply.text = 'Farewell!'; // Replies "Farewell!" if an farewells is found.
            }


            const botReply = document.createTextNode("Bot: " + reply.text + "\n");
            document.getElementById("log").appendChild(newChildToAdd); // Appends user message.
            document.getElementById("log").appendChild(botReply); // Appends bot message.


        }
    </script>
</body>

</html>